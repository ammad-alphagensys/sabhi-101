echo "ğŸ” Pre-commit checks..."

# Env template parity
bun run scripts/sync-env-templates.ts

# Ensure templates are staged & in sync
git diff --cached --exit-code -- env*.example

if [ $? -ne 0 ]; then
  echo "âŒ Env templates out of sync. Commit aborted."
  exit 1
fi

# format -- prettier
bun run format

# Gitleaks (staged only)
bun run gitleaks:staged
[ $? -ne 0 ] && exit 1

# ESLint (staged only)
# bunx lint-staged
# [ $? -ne 0 ] && exit 1

echo "âœ… Pre-commit passed"

